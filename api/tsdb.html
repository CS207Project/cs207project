<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tsdb package &mdash; cs207project 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="cs207project 0.1 documentation" href="../index.html" />
    <link rel="up" title="Modules" href="modules.html" />
    <link rel="next" title="vptrees package" href="vptrees.html" />
    <link rel="prev" title="timeseries package" href="timeseries.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tsdb-package">
<h1>tsdb package<a class="headerlink" href="#tsdb-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tsdb.baseclasses">
<span id="tsdb-baseclasses-module"></span><h2>tsdb.baseclasses module<a class="headerlink" href="#module-tsdb.baseclasses" title="Permalink to this headline">¶</a></h2>
<p>Base Classes that define the interfaces implemented elsewhere</p>
<dl class="class">
<dt id="tsdb.baseclasses.BaseDB">
<em class="property">class </em><code class="descclassname">tsdb.baseclasses.</code><code class="descname">BaseDB</code><a class="headerlink" href="#tsdb.baseclasses.BaseDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Interface that all Databases should support</p>
<dl class="method">
<dt id="tsdb.baseclasses.BaseDB.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseDB.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Dunder method to get the the values at a given primary_key</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.baseclasses.BaseDB.delete_ts">
<code class="descname">delete_ts</code><span class="sig-paren">(</span><em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseDB.delete_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pk, remove that timeseries from the database</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.baseclasses.BaseDB.insert_ts">
<code class="descname">insert_ts</code><span class="sig-paren">(</span><em>pk</em>, <em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseDB.insert_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pk and a timeseries, insert them</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.baseclasses.BaseDB.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>meta</em>, <em>fields_to_ret</em>, <em>additional</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseDB.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Select from the database</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.baseclasses.BaseDB.upsert_meta">
<code class="descname">upsert_meta</code><span class="sig-paren">(</span><em>pk</em>, <em>meta</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseDB.upsert_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a primary key and a dict of meta fields, value pairs, upsert
them as long as they&#8217;re in the schema.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.baseclasses.BaseIndex">
<em class="property">class </em><code class="descclassname">tsdb.baseclasses.</code><code class="descname">BaseIndex</code><a class="headerlink" href="#tsdb.baseclasses.BaseIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Interface that all indices should support</p>
<dl class="method">
<dt id="tsdb.baseclasses.BaseIndex.getEqual">
<code class="descname">getEqual</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseIndex.getEqual" title="Permalink to this definition">¶</a></dt>
<dd><p>return set of primary keys that match this fieldValue</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.baseclasses.BaseIndex.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseIndex.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>insert the value into the appropriate place in the tree</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.baseclasses.BaseIndex.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.baseclasses.BaseIndex.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a primary key from the index</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsdb.dictdb">
<span id="tsdb-dictdb-module"></span><h2>tsdb.dictdb module<a class="headerlink" href="#module-tsdb.dictdb" title="Permalink to this headline">¶</a></h2>
<p>A dictionary based in-memory version of the time series database</p>
<dl class="class">
<dt id="tsdb.dictdb.DictDB">
<em class="property">class </em><code class="descclassname">tsdb.dictdb.</code><code class="descname">DictDB</code><span class="sig-paren">(</span><em>schema</em>, <em>pk_field='pk'</em>, <em>ts_length=100</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.baseclasses.BaseDB" title="tsdb.baseclasses.BaseDB"><code class="xref py py-class docutils literal"><span class="pre">tsdb.baseclasses.BaseDB</span></code></a></p>
<p>A database implementation in a dictionary</p>
<dl class="attribute">
<dt id="tsdb.dictdb.DictDB.indexes">
<code class="descname">indexes</code><a class="headerlink" href="#tsdb.dictdb.DictDB.indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>a default dict of primary keys and offsets in file of the values</p>
</dd></dl>

<dl class="attribute">
<dt id="tsdb.dictdb.DictDB.rows">
<code class="descname">rows</code><a class="headerlink" href="#tsdb.dictdb.DictDB.rows" title="Permalink to this definition">¶</a></dt>
<dd><p>contains the rows of data. Each entry points to a dictionary</p>
</dd></dl>

<dl class="attribute">
<dt id="tsdb.dictdb.DictDB.schema">
<code class="descname">schema</code><a class="headerlink" href="#tsdb.dictdb.DictDB.schema" title="Permalink to this definition">¶</a></dt>
<dd><p>the schema that the dictionary follows</p>
</dd></dl>

<dl class="attribute">
<dt id="tsdb.dictdb.DictDB.pkfield">
<code class="descname">pkfield</code><a class="headerlink" href="#tsdb.dictdb.DictDB.pkfield" title="Permalink to this definition">¶</a></dt>
<dd><p>selects the field to be considered as the primary key. Defaults to <cite>pk</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="tsdb.dictdb.DictDB.ts_length">
<code class="descname">ts_length</code><a class="headerlink" href="#tsdb.dictdb.DictDB.ts_length" title="Permalink to this definition">¶</a></dt>
<dd><p>lenght of the timeseries. Defaults to 100.</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Dunder method to get the the values at a given row</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.delete_ts">
<code class="descname">delete_ts</code><span class="sig-paren">(</span><em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.delete_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pk, remove that timeseries from the database</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.index_bulk">
<code class="descname">index_bulk</code><span class="sig-paren">(</span><em>pks=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.index_bulk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.insert_ts">
<code class="descname">insert_ts</code><span class="sig-paren">(</span><em>pk</em>, <em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.insert_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pk and a timeseries, insert them</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.remove_from_indices">
<code class="descname">remove_from_indices</code><span class="sig-paren">(</span><em>pk</em>, <em>row</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.remove_from_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove pk from indices after deletion</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>meta</em>, <em>fields_to_ret</em>, <em>additional</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Select timeseries elements in the database that match the criteria set
in metadata_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>meta</strong> (<em>a dictionary object</em>) &#8211; the selection criteria (filters)</li>
<li><strong>fields_to_ret</strong> (<em>a dictionary object</em>) &#8211; If not <cite>None</cite>, only these fields of the timeseries are returned.
Otherwise, the timeseries are returned.</li>
<li><strong>additional</strong> (<em>a dictionary object</em>) &#8211; additional computation to perform on the query matches before they&#8217;re
returned. You can sort or limit the number of results that you receive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.update_indices">
<code class="descname">update_indices</code><span class="sig-paren">(</span><em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.update_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Update indices after a change has occurred. Eg. Called after insertion</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.dictdb.DictDB.upsert_meta">
<code class="descname">upsert_meta</code><span class="sig-paren">(</span><em>pk</em>, <em>meta</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.dictdb.DictDB.upsert_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a primary key and a dict of meta fields, value pairs, upsert
them as long as they&#8217;re in the schema.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsdb.heap">
<span id="tsdb-heap-module"></span><h2>tsdb.heap module<a class="headerlink" href="#module-tsdb.heap" title="Permalink to this headline">¶</a></h2>
<p>A heap that is used in the persistentdb implementation</p>
<dl class="class">
<dt id="tsdb.heap.HeapFile">
<em class="property">class </em><code class="descclassname">tsdb.heap.</code><code class="descname">HeapFile</code><span class="sig-paren">(</span><em>heap_file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.HeapFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="tsdb.heap.HeapFile.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.HeapFile.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.heap.MetaHeapFile">
<em class="property">class </em><code class="descclassname">tsdb.heap.</code><code class="descname">MetaHeapFile</code><span class="sig-paren">(</span><em>heap_file_name</em>, <em>schema</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.MetaHeapFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.heap.HeapFile" title="tsdb.heap.HeapFile"><code class="xref py py-class docutils literal"><span class="pre">tsdb.heap.HeapFile</span></code></a></p>
<dl class="method">
<dt id="tsdb.heap.MetaHeapFile.check_byteArray">
<code class="descname">check_byteArray</code><span class="sig-paren">(</span><em>byteArray</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.MetaHeapFile.check_byteArray" title="Permalink to this definition">¶</a></dt>
<dd><p>method to double check compression succeeded</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.heap.MetaHeapFile.encode_and_write_meta">
<code class="descname">encode_and_write_meta</code><span class="sig-paren">(</span><em>meta</em>, <em>pk_offset=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.MetaHeapFile.encode_and_write_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>takes metadata and writes to file, return the offset of the write</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.heap.MetaHeapFile.read_and_return_meta">
<code class="descname">read_and_return_meta</code><span class="sig-paren">(</span><em>pk_offset</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.MetaHeapFile.read_and_return_meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.heap.TSHeapFile">
<em class="property">class </em><code class="descclassname">tsdb.heap.</code><code class="descname">TSHeapFile</code><span class="sig-paren">(</span><em>heap_file_name</em>, <em>ts_length</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.TSHeapFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.heap.HeapFile" title="tsdb.heap.HeapFile"><code class="xref py py-class docutils literal"><span class="pre">tsdb.heap.HeapFile</span></code></a></p>
<dl class="method">
<dt id="tsdb.heap.TSHeapFile.encode_and_write_ts">
<code class="descname">encode_and_write_ts</code><span class="sig-paren">(</span><em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.TSHeapFile.encode_and_write_ts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.heap.TSHeapFile.read_and_decode_ts">
<code class="descname">read_and_decode_ts</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.heap.TSHeapFile.read_and_decode_ts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsdb.indices">
<span id="tsdb-indices-module"></span><h2>tsdb.indices module<a class="headerlink" href="#module-tsdb.indices" title="Permalink to this headline">¶</a></h2>
<p>All the index classes.</p>
<dl class="docutils">
<dt>Currentlly:</dt>
<dd>PKIndex: Primary Key Index
TreeIndex: Tree based index done using a AVL tree
BitmapIndex: Bitmap index for low cardinality columns</dd>
</dl>
<dl class="class">
<dt id="tsdb.indices.BitmapIndex">
<em class="property">class </em><code class="descclassname">tsdb.indices.</code><code class="descname">BitmapIndex</code><span class="sig-paren">(</span><em>values</em>, <em>pk_len=4</em>, <em>fieldName='default'</em>, <em>database_name='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="tsdb.indices.BitmapIndex.allKeys">
<code class="descname">allKeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex.allKeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.BitmapIndex.deleteIndex">
<code class="descname">deleteIndex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex.deleteIndex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.BitmapIndex.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.BitmapIndex.getEqual">
<code class="descname">getEqual</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex.getEqual" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.BitmapIndex.getNotEq">
<code class="descname">getNotEq</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex.getNotEq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.BitmapIndex.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex.insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.BitmapIndex.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.BitmapIndex.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.indices.PKIndex">
<em class="property">class </em><code class="descclassname">tsdb.indices.</code><code class="descname">PKIndex</code><span class="sig-paren">(</span><em>database_name='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.baseclasses.BaseIndex" title="tsdb.baseclasses.BaseIndex"><code class="xref py py-class docutils literal"><span class="pre">tsdb.baseclasses.BaseIndex</span></code></a></p>
<p>PK Index using Pickle serialization and a write ahead log.
Essentially a (pk: offset) dictionary with writelog and disk storage.</p>
<dl class="method">
<dt id="tsdb.indices.PKIndex.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.PKIndex.getEqual">
<code class="descname">getEqual</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.getEqual" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.PKIndex.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.PKIndex.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.PKIndex.load_and_clear_log">
<code class="descname">load_and_clear_log</code><span class="sig-paren">(</span><em>loaded=False</em>, <em>close=False</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.load_and_clear_log" title="Permalink to this definition">¶</a></dt>
<dd><p>if loaded, writelog assumed to be open. otherwise, closed.
loads values, clears writelog and opens.
if close, then file descriptor not return.</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.indices.PKIndex.load_pickle">
<code class="descname">load_pickle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.load_pickle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.PKIndex.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>key</em>, <em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.PKIndex.save_pickle">
<code class="descname">save_pickle</code><span class="sig-paren">(</span><em>new=False</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.PKIndex.save_pickle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.indices.SimpleIndex">
<em class="property">class </em><code class="descclassname">tsdb.indices.</code><code class="descname">SimpleIndex</code><span class="sig-paren">(</span><em>fieldName='default'</em>, <em>database_name='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.SimpleIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.baseclasses.BaseIndex" title="tsdb.baseclasses.BaseIndex"><code class="xref py py-class docutils literal"><span class="pre">tsdb.baseclasses.BaseIndex</span></code></a></p>
<p>Very simple index that implements a default dict</p>
<dl class="method">
<dt id="tsdb.indices.SimpleIndex.getEqual">
<code class="descname">getEqual</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.SimpleIndex.getEqual" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.SimpleIndex.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.SimpleIndex.insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.SimpleIndex.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.SimpleIndex.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.indices.TreeIndex">
<em class="property">class </em><code class="descclassname">tsdb.indices.</code><code class="descname">TreeIndex</code><span class="sig-paren">(</span><em>fieldName='default'</em>, <em>database_name='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.indices.SimpleIndex" title="tsdb.indices.SimpleIndex"><code class="xref py py-class docutils literal"><span class="pre">tsdb.indices.SimpleIndex</span></code></a></p>
<dl class="method">
<dt id="tsdb.indices.TreeIndex.allKeys">
<code class="descname">allKeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.allKeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.deleteIndex">
<code class="descname">deleteIndex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.deleteIndex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>operator_num=2</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.get" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;get&#8217; wrapper function to delegate to other functions
based on submitted operator</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.getEqual">
<code class="descname">getEqual</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.getEqual" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.getHigherOrEq">
<code class="descname">getHigherOrEq</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.getHigherOrEq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.getHigherThan">
<code class="descname">getHigherThan</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.getHigherThan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.getLowerOrEq">
<code class="descname">getLowerOrEq</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.getLowerOrEq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.getLowerThan">
<code class="descname">getLowerThan</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.getLowerThan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.getNotEq">
<code class="descname">getNotEq</code><span class="sig-paren">(</span><em>fieldValue</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.getNotEq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.indices.TreeIndex.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>fieldValue</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.indices.TreeIndex.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsdb.persistentdb">
<span id="tsdb-persistentdb-module"></span><h2>tsdb.persistentdb module<a class="headerlink" href="#module-tsdb.persistentdb" title="Permalink to this headline">¶</a></h2>
<p>Persistent time series database.</p>
<dl class="class">
<dt id="tsdb.persistentdb.PersistentDB">
<em class="property">class </em><code class="descclassname">tsdb.persistentdb.</code><code class="descname">PersistentDB</code><span class="sig-paren">(</span><em>schema=None</em>, <em>pk_field='pk'</em>, <em>db_name='default'</em>, <em>ts_length=1024</em>, <em>testing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.baseclasses.BaseDB" title="tsdb.baseclasses.BaseDB"><code class="xref py py-class docutils literal"><span class="pre">tsdb.baseclasses.BaseDB</span></code></a></p>
<p>Database implementation to allow for persistent storage. It&#8217;s implemented
using Binary Trees and BitMasks.</p>
<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Dunder function that returns all columns for this primary key</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.__len__">
<code class="descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>Dunder function to return length of timeseries db</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.add_vp">
<code class="descname">add_vp</code><span class="sig-paren">(</span><em>vp_id</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.add_vp" title="Permalink to this definition">¶</a></dt>
<dd><p>method to add vp labels to db, and save to disk</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.close" title="Permalink to this definition">¶</a></dt>
<dd><p>helper function to close the database</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.delete_database">
<code class="descname">delete_database</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.delete_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the database and all associated files</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.delete_ts">
<code class="descname">delete_ts</code><span class="sig-paren">(</span><em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.delete_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pk, remove that timeseries from the database.
Follows logic of &#8216;upsert_meta&#8217; for deletion and removal from indices</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pk</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; primary key</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.delete_vp">
<code class="descname">delete_vp</code><span class="sig-paren">(</span><em>vp_id</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.delete_vp" title="Permalink to this definition">¶</a></dt>
<dd><p>method to delete vp labels from db, and save to disk</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.index_bulk">
<code class="descname">index_bulk</code><span class="sig-paren">(</span><em>pks=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.index_bulk" title="Permalink to this definition">¶</a></dt>
<dd><p>Assures index data is up to date for pk in pks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pks</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; list of primary keys to be updated</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.insert_ts">
<code class="descname">insert_ts</code><span class="sig-paren">(</span><em>pk</em>, <em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.insert_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pk and a timeseries, insert them&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pk</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; primary key</li>
<li><strong>new_meta</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; new metadata dictionary to be inserted</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.load_vps">
<code class="descname">load_vps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.load_vps" title="Permalink to this definition">¶</a></dt>
<dd><p>method to load vantage point labels from disk</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.remove_indices">
<code class="descname">remove_indices</code><span class="sig-paren">(</span><em>pk</em>, <em>old_meta_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.remove_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the old stored indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pk</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; primary key</li>
<li><strong>old_meta_dict</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; old metadata dictionary</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>meta</em>, <em>fields_to_ret=[]</em>, <em>additional=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Select timeseries elements in the database that match the criteria set
in meta.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>metadata_dict</strong> (<em>a dictionary object</em>) &#8211; the selection criteria (filters)</li>
<li><strong>fields_to_ret</strong> (<em>a list object</em>) &#8211; If not <cite>None</cite>, only these fields of the timeseries are returned.
Otherwise, the timeseries are returned.</li>
<li><strong>additional</strong> (<em>a dictionary object</em>) &#8211; additional computation to perform on the query matches before they&#8217;re
returned. You can sort or limit the number of results that you receive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.update_indices">
<code class="descname">update_indices</code><span class="sig-paren">(</span><em>pk</em>, <em>old_meta_dict=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.update_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Update indices after a change has occurred. Eg. Called after insertion</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.persistentdb.PersistentDB.upsert_meta">
<code class="descname">upsert_meta</code><span class="sig-paren">(</span><em>pk</em>, <em>new_meta</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.PersistentDB.upsert_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Upsert metadata into the timeseries in the database.
Ignores inserted metadata if it is not in the schema, or if either
updates to the primary key or timeseries are attempted</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pk</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; primary key</li>
<li><strong>new_meta</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; new metadata dictionary to be inserted</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tsdb.persistentdb.dict_eq">
<code class="descclassname">tsdb.persistentdb.</code><code class="descname">dict_eq</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.persistentdb.dict_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>helper function to test equality of dictionaries of dictionaries</p>
</dd></dl>

</div>
<div class="section" id="module-tsdb.tsdb_client">
<span id="tsdb-tsdb-client-module"></span><h2>tsdb.tsdb_client module<a class="headerlink" href="#module-tsdb.tsdb_client" title="Permalink to this headline">¶</a></h2>
<p>Time Series Database Client: This could be used in a python program, web server, or REPL!</p>
<dl class="class">
<dt id="tsdb.tsdb_client.TSDBClient">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_client.</code><code class="descname">TSDBClient</code><span class="sig-paren">(</span><em>port=9999</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>The client. This could be used in a python program, web server, or REPL!</p>
<dl class="attribute">
<dt id="tsdb.tsdb_client.TSDBClient.port">
<code class="descname">port</code><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.port" title="Permalink to this definition">¶</a></dt>
<dd><p>the port with which to connect to the server</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.add_trigger">
<code class="descname">add_trigger</code><span class="sig-paren">(</span><em>proc</em>, <em>onwhat</em>, <em>target</em>, <em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.add_trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the server a request to add a trigger.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>proc</strong> (<em>which of the modules in procs. Options: 'corr', 'junk', 'stats'</em>) &#8211; </li>
<li><strong>onwhat</strong> (<em>the trigger</em>) &#8211; </li>
<li><strong>target</strong> (<em>metadata to be upserted</em>) &#8211; </li>
<li><strong>arg</strong> (<em>additional argument</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.augmented_select">
<code class="descname">augmented_select</code><span class="sig-paren">(</span><em>proc</em>, <em>target</em>, <em>arg=None</em>, <em>metadata_dict={}</em>, <em>additional=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.augmented_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the server a request for the selection of timeseries elements in
the database that match the criteria set in metadata_dict and then run a
stored procedure on that result</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>proc</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; name of the stored procedure that will be run on the results</li>
<li><strong>metadata_dict</strong> (<em>a dictionary object</em>) &#8211; the selection criteria (filters)</li>
<li><strong>additional</strong> (<em>a dictionary object</em>) &#8211; additional computation to perform on the query matches before they&#8217;re
returned. You can sort or limit the number of results that you receive.</li>
<li><strong>target</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; what the results of the stored procedure will be stored in</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.delete_ts">
<code class="descname">delete_ts</code><span class="sig-paren">(</span><em>primary_key</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.delete_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the server a request to delete a timeseries from the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>primary_key</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; a unique identifier for the timeseries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.find_similar">
<code class="descname">find_similar</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.find_similar" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the server a request to find the closest ts to this one</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<a class="reference internal" href="timeseries.html#module-timeseries.TimeSeries" title="timeseries.TimeSeries"><em>TimeSeries</em></a>) &#8211; reference time series</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.insert_ts">
<code class="descname">insert_ts</code><span class="sig-paren">(</span><em>primary_key</em>, <em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.insert_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the server a request to insert a timeseries into the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>primary_key</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; a unique identifier for the timeseries</li>
<li><strong>ts</strong> (<em>a TimeSeries object</em>) &#8211; the timeseries, an instance of the <cite>TimeSeries</cite> class</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.make_vp_tree">
<code class="descname">make_vp_tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.make_vp_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a Vantage Point Tree given the current state of the database</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.remove_trigger">
<code class="descname">remove_trigger</code><span class="sig-paren">(</span><em>proc</em>, <em>onwhat</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.remove_trigger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>metadata_dict={}</em>, <em>fields=None</em>, <em>additional=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the server a request for the selection of timeseries elements in
the database that match the criteria set in metadata_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>metadata_dict</strong> (<em>a dictionary object</em>) &#8211; the selection criteria (filters)</li>
<li><strong>fields</strong> (<em>a dictionary object</em>) &#8211; If not <cite>None</cite>, only these fields of the timeseries are returned.
Otherwise, the timeseries are returned.</li>
<li><strong>additional</strong> (<em>a dictionary object</em>) &#8211; additional computation to perform on the query matches before they&#8217;re
returned. You can sort or limit the number of results that you receive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_client.TSDBClient.upsert_meta">
<code class="descname">upsert_meta</code><span class="sig-paren">(</span><em>primary_key</em>, <em>metadata_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_client.TSDBClient.upsert_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the server a request to upsert metadata into the timeseries in
the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>primary_key</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; a unique identifier for the timeseries</li>
<li><strong>metadata_dict</strong> (<em>a dictionary object</em>) &#8211; the metadata to upsert into the timeseries</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsdb.tsdb_error">
<span id="tsdb-tsdb-error-module"></span><h2>tsdb.tsdb_error module<a class="headerlink" href="#module-tsdb.tsdb_error" title="Permalink to this headline">¶</a></h2>
<p>Defines the types of errors the database server / client / backend can encounter</p>
<dl class="class">
<dt id="tsdb.tsdb_error.TSDBStatus">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_error.</code><code class="descname">TSDBStatus</code><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.IntEnum</span></code></p>
<p>Class to report the status of the timeseries database after processing
a request from the client. There are four possible statuses returned.</p>
<p>0: Everything is okay.
1: An unknown error has occurred.
2: The client has attempted an invalid operation.
3: The request was for an invalid key, most likely a duplicate primary key.</p>
<dl class="attribute">
<dt id="tsdb.tsdb_error.TSDBStatus.INVALID_KEY">
<code class="descname">INVALID_KEY</code><em class="property"> = &lt;TSDBStatus.INVALID_KEY: 3&gt;</em><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus.INVALID_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tsdb.tsdb_error.TSDBStatus.INVALID_OPERATION">
<code class="descname">INVALID_OPERATION</code><em class="property"> = &lt;TSDBStatus.INVALID_OPERATION: 2&gt;</em><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus.INVALID_OPERATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tsdb.tsdb_error.TSDBStatus.OK">
<code class="descname">OK</code><em class="property"> = &lt;TSDBStatus.OK: 0&gt;</em><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus.OK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tsdb.tsdb_error.TSDBStatus.UNKNOWN_ERROR">
<code class="descname">UNKNOWN_ERROR</code><em class="property"> = &lt;TSDBStatus.UNKNOWN_ERROR: 1&gt;</em><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus.UNKNOWN_ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_error.TSDBStatus.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus.encode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="tsdb.tsdb_error.TSDBStatus.encoded_length">
<em class="property">static </em><code class="descname">encoded_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus.encoded_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="tsdb.tsdb_error.TSDBStatus.from_bytes">
<em class="property">classmethod </em><code class="descname">from_bytes</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_error.TSDBStatus.from_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsdb.tsdb_ops">
<span id="tsdb-tsdb-ops-module"></span><h2>tsdb.tsdb_ops module<a class="headerlink" href="#module-tsdb.tsdb_ops" title="Permalink to this headline">¶</a></h2>
<p>Encapluation for all the operations. Communication also passes through here.</p>
<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_ops.TSDBOp.to_json">
<code class="descname">to_json</code><span class="sig-paren">(</span><em>obj=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_AddTrigger">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_AddTrigger</code><span class="sig-paren">(</span><em>proc</em>, <em>onwhat</em>, <em>target</em>, <em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_AddTrigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_AddTrigger.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_AddTrigger.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_AugmentedSelect">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_AugmentedSelect</code><span class="sig-paren">(</span><em>proc</em>, <em>target</em>, <em>arg</em>, <em>md</em>, <em>additional</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_AugmentedSelect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<p>A hybrid of select, and add trigger, we only miss the onwhat key as this op
is used as an add on to selects. We remove the fields arg from select, as
the only fields sent back are the ones in target, which is used as in
add_trigger, except that instead of upserting meta with the targets, that
data is sent back to the user.</p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_AugmentedSelect.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_AugmentedSelect.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_DeleteTS">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_DeleteTS</code><span class="sig-paren">(</span><em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_DeleteTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_DeleteTS.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_DeleteTS.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_FindSimilar">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_FindSimilar</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_FindSimilar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<p>Find the timeseries in the DB closest to this one based on the predefined
distance metric</p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_FindSimilar.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_FindSimilar.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_InsertTS">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_InsertTS</code><span class="sig-paren">(</span><em>pk</em>, <em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_InsertTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_InsertTS.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_InsertTS.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_MakeVPTree">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_MakeVPTree</code><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_MakeVPTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<p>Make a vantage point tree given the current state of the database</p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_MakeVPTree.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_MakeVPTree.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_RemoveTrigger">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_RemoveTrigger</code><span class="sig-paren">(</span><em>proc</em>, <em>onwhat</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_RemoveTrigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_RemoveTrigger.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_RemoveTrigger.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_Return">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_Return</code><span class="sig-paren">(</span><em>status</em>, <em>op</em>, <em>payload=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_Return" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_Return.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_Return.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_Select">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_Select</code><span class="sig-paren">(</span><em>md</em>, <em>fields</em>, <em>additional</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_Select" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_Select.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_Select.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_ops.TSDBOp_UpsertMeta">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_ops.</code><code class="descname">TSDBOp_UpsertMeta</code><span class="sig-paren">(</span><em>pk</em>, <em>md</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_UpsertMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tsdb.tsdb_ops.TSDBOp" title="tsdb.tsdb_ops.TSDBOp"><code class="xref py py-class docutils literal"><span class="pre">tsdb.tsdb_ops.TSDBOp</span></code></a></p>
<dl class="classmethod">
<dt id="tsdb.tsdb_ops.TSDBOp_UpsertMeta.from_json">
<em class="property">classmethod </em><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_ops.TSDBOp_UpsertMeta.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsdb.tsdb_serialization">
<span id="tsdb-tsdb-serialization-module"></span><h2>tsdb.tsdb_serialization module<a class="headerlink" href="#module-tsdb.tsdb_serialization" title="Permalink to this headline">¶</a></h2>
<p>Structures to serialize and de-serialize data</p>
<dl class="class">
<dt id="tsdb.tsdb_serialization.Deserializer">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_serialization.</code><code class="descname">Deserializer</code><a class="headerlink" href="#tsdb.tsdb_serialization.Deserializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A buffering and bytes-to-json engine.</p>
<p>Data can be received in arbitrary chunks of bytes, and we need a way to
reconstruct variable-length JSON objects from that interface. This class
buffers up bytes until it can detect that it has a full JSON object (via
a length field pulled off the wire). To use this, shove bytes in with the
append() function and call ready() to check if we&#8217;ve reconstructed a JSON
object. If True, then call deserialize to return it. That object will be
removed from this buffer after it is returned.</p>
<dl class="method">
<dt id="tsdb.tsdb_serialization.Deserializer.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_serialization.Deserializer.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_serialization.Deserializer.deserialize">
<code class="descname">deserialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_serialization.Deserializer.deserialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_serialization.Deserializer.ready">
<code class="descname">ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_serialization.Deserializer.ready" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="tsdb.tsdb_serialization.serialize">
<code class="descclassname">tsdb.tsdb_serialization.</code><code class="descname">serialize</code><span class="sig-paren">(</span><em>json_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_serialization.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a JSON object into bytes suitable for writing out to the network.</p>
<p>Includes a fixed-width length field to simplify reconstruction on the other
end of the wire.</p>
</dd></dl>

</div>
<div class="section" id="module-tsdb.tsdb_server">
<span id="tsdb-tsdb-server-module"></span><h2>tsdb.tsdb_server module<a class="headerlink" href="#module-tsdb.tsdb_server" title="Permalink to this headline">¶</a></h2>
<p>Time Series Database Server: Owns any version of a database and communicates with the TSDBClient</p>
<dl class="class">
<dt id="tsdb.tsdb_server.TSDBProtocol">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_server.</code><code class="descname">TSDBProtocol</code><span class="sig-paren">(</span><em>server</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.TSDBProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">asyncio.protocols.Protocol</span></code></p>
<dl class="method">
<dt id="tsdb.tsdb_server.TSDBProtocol.connection_lost">
<code class="descname">connection_lost</code><span class="sig-paren">(</span><em>transport</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.TSDBProtocol.connection_lost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_server.TSDBProtocol.connection_made">
<code class="descname">connection_made</code><span class="sig-paren">(</span><em>conn</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.TSDBProtocol.connection_made" title="Permalink to this definition">¶</a></dt>
<dd><p>Connection established</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_server.TSDBProtocol.data_received">
<code class="descname">data_received</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.TSDBProtocol.data_received" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tsdb.tsdb_server.TSDBServer">
<em class="property">class </em><code class="descclassname">tsdb.tsdb_server.</code><code class="descname">TSDBServer</code><span class="sig-paren">(</span><em>db</em>, <em>port=9999</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.TSDBServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>The server. This accepts requests from the client, processes them, and
dispatches a response.</p>
<dl class="attribute">
<dt id="tsdb.tsdb_server.TSDBServer.port">
<code class="descname">port</code><a class="headerlink" href="#tsdb.tsdb_server.TSDBServer.port" title="Permalink to this definition">¶</a></dt>
<dd><p>the port with which to connect to the server</p>
</dd></dl>

<dl class="attribute">
<dt id="tsdb.tsdb_server.TSDBServer.db">
<code class="descname">db</code><a class="headerlink" href="#tsdb.tsdb_server.TSDBServer.db" title="Permalink to this definition">¶</a></dt>
<dd><p>database engine</p>
</dd></dl>

<dl class="attribute">
<dt id="tsdb.tsdb_server.TSDBServer.triggers">
<code class="descname">triggers</code><a class="headerlink" href="#tsdb.tsdb_server.TSDBServer.triggers" title="Permalink to this definition">¶</a></dt>
<dd><p>a default dict of triggers</p>
</dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_server.TSDBServer.exception_handler">
<code class="descname">exception_handler</code><span class="sig-paren">(</span><em>loop</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.TSDBServer.exception_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tsdb.tsdb_server.TSDBServer.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.TSDBServer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the server.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tsdb.tsdb_server.trigger_callback_maker">
<code class="descclassname">tsdb.tsdb_server.</code><code class="descname">trigger_callback_maker</code><span class="sig-paren">(</span><em>pk</em>, <em>target</em>, <em>calltomake</em><span class="sig-paren">)</span><a class="headerlink" href="#tsdb.tsdb_server.trigger_callback_maker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-tsdb">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-tsdb" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tsdb package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-tsdb.baseclasses">tsdb.baseclasses module</a></li>
<li><a class="reference internal" href="#module-tsdb.dictdb">tsdb.dictdb module</a></li>
<li><a class="reference internal" href="#module-tsdb.heap">tsdb.heap module</a></li>
<li><a class="reference internal" href="#module-tsdb.indices">tsdb.indices module</a></li>
<li><a class="reference internal" href="#module-tsdb.persistentdb">tsdb.persistentdb module</a></li>
<li><a class="reference internal" href="#module-tsdb.tsdb_client">tsdb.tsdb_client module</a></li>
<li><a class="reference internal" href="#module-tsdb.tsdb_error">tsdb.tsdb_error module</a></li>
<li><a class="reference internal" href="#module-tsdb.tsdb_ops">tsdb.tsdb_ops module</a></li>
<li><a class="reference internal" href="#module-tsdb.tsdb_serialization">tsdb.tsdb_serialization module</a></li>
<li><a class="reference internal" href="#module-tsdb.tsdb_server">tsdb.tsdb_server module</a></li>
<li><a class="reference internal" href="#module-tsdb">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">Modules</a><ul>
      <li>Previous: <a href="timeseries.html" title="previous chapter">timeseries package</a></li>
      <li>Next: <a href="vptrees.html" title="next chapter">vptrees package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/tsdb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Akhil Daniel Hilawi Christian Joaquin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../_sources/api/tsdb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>